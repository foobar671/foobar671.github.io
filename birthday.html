<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <script type="application/javascript">
	var gridSize = 60; // 60
	var updateTimeMS = 1; // 1
	var canvasPad = 20; //20
	var colorStep = 255 / (gridSize/2);
	var colorOffsetHead = 0;
	var useSquares = true;
	var letterAlpha = 0.0;
	var letterFadeInAlphaStep = 0.003;
	var embellishAlpha = 0.0;
	var embellishAlphaStep = 0.02;
	var embellishAlphaShouldIncrease = true;
	var squareArr = new Array(gridSize);
	var letterArr = new Array(gridSize);
	var embellishArr = new Array(gridSize);
	
	function main()
	{
		document.addEventListener("click", onMouseClick);
		
		for (var i = 0; i < gridSize; i++)
		{
			squareArr[i] = new Array(gridSize);
			letterArr[i] = new Array(gridSize);
			embellishArr[i] = new Array(gridSize);
			
			for (var j = 0; j < gridSize; j++)
			{
				squareArr[i][j] = new Array(3);
				letterArr[i][j] = false;
				embellishArr[i][j] = false;
				
				squareArr[i][j][0] = 0;
				squareArr[i][j][1] = 0;
				squareArr[i][j][2] = 0;
			}
		}
		
		for (var i = 0; i < Math.floor(gridSize/2); i++)
		  {
			for (var j = 0; j < gridSize; j++)
			{ 
				var redColorVal = 255 - Math.floor(colorStep*i);
				squareArr[i][j][0] = redColorVal;
				squareArr[gridSize-1-i][j][0] = redColorVal;
				
				var greenColorVal = 255 - Math.floor(colorStep*j);
				squareArr[i][j][1] = greenColorVal;
				squareArr[gridSize-1-i][j][1] = greenColorVal;
				
				var blueColorVal = 255 - Math.floor( (redColorVal + greenColorVal) / 2.5 );
				squareArr[i][j][2] = blueColorVal;
				squareArr[gridSize-1-i][j][2] = blueColorVal;
			}
		  }
		
		for (var i = 0; i < gridSize; i++)
		  {
			for (var j = 0; j < Math.floor(gridSize/2); j++)
			{ 
				var redColorVal = squareArr[i][j][0];
				squareArr[i][gridSize-1-j][0] = redColorVal;
				
				var greenColorVal = squareArr[i][j][1];
				squareArr[i][gridSize-1-j][1] = greenColorVal;
				
				var blueColor = squareArr[i][j][2];
				squareArr[i][gridSize-1-j][2] = blueColor;
			}
		  }
		
		// h
		letterArr[10][20] = true;
		letterArr[11][20] = true;
		letterArr[12][20] = true;
		letterArr[13][20] = true;
		letterArr[14][20] = true;
		letterArr[15][20] = true;
		letterArr[16][20] = true;
		letterArr[17][20] = true;
		letterArr[18][20] = true;
		letterArr[19][20] = true;
		letterArr[20][20] = true;	
		letterArr[15][21] = true;
		letterArr[10][22] = true;
		letterArr[11][22] = true;
		letterArr[12][22] = true;
		letterArr[13][22] = true;
		letterArr[14][22] = true;
		letterArr[15][22] = true;
		letterArr[16][22] = true;
		letterArr[17][22] = true;
		letterArr[18][22] = true;
		letterArr[19][22] = true;
		letterArr[20][22] = true;
		
		//a
		letterArr[11][24] = true;
		letterArr[12][24] = true;
		letterArr[13][24] = true;
		letterArr[14][24] = true;
		letterArr[15][24] = true;
		letterArr[16][24] = true;
		letterArr[17][24] = true;
		letterArr[18][24] = true;
		letterArr[19][24] = true;
		letterArr[20][24] = true;
        letterArr[13][25] = true;
		letterArr[10][24] = true;
		letterArr[10][26] = true;
	    letterArr[10][25] = true;
        letterArr[11][26] = true;
		letterArr[12][26] = true;
		letterArr[13][26] = true;
		letterArr[14][26] = true;
		letterArr[15][26] = true;
		letterArr[16][26] = true;
		letterArr[17][26] = true;
		letterArr[18][26] = true;
		letterArr[19][26] = true;
		letterArr[20][26] = true;

		//p
		letterArr[10][28] = true;
        letterArr[11][28] = true;
		letterArr[12][28] = true;
		letterArr[13][28] = true;
		letterArr[14][28] = true;
		letterArr[15][28] = true;
		letterArr[16][28] = true;
		letterArr[17][28] = true;
		letterArr[18][28] = true;
		letterArr[19][28] = true;
		letterArr[20][28] = true;
		letterArr[10][29] = true;
		letterArr[13][29] = true;
		letterArr[10][30] = true;
        letterArr[11][30] = true;
		letterArr[12][30] = true;
		letterArr[13][30] = true;
		
		//p
		letterArr[10][32] = true;
        letterArr[11][32] = true;
		letterArr[12][32] = true;
		letterArr[13][32] = true;
		letterArr[14][32] = true;
		letterArr[15][32] = true;
		letterArr[16][32] = true;
		letterArr[17][32] = true;
		letterArr[18][32] = true;
		letterArr[19][32] = true;
		letterArr[20][32] = true;
		letterArr[10][33] = true;
		letterArr[13][33] = true;
		letterArr[10][34] = true;
        letterArr[11][34] = true;
		letterArr[12][34] = true;
		letterArr[13][34] = true;
		
		//y
		letterArr[10][36] = true;
        letterArr[11][36] = true;
		letterArr[12][36] = true;
		letterArr[13][36] = true;
		letterArr[14][36] = true;
		letterArr[15][37] = true;
		letterArr[16][37] = true;
		letterArr[17][37] = true;
		letterArr[18][37] = true;
		letterArr[19][37] = true;
		letterArr[20][37] = true;
		letterArr[10][38] = true;
        letterArr[11][38] = true;
		letterArr[12][38] = true;
		letterArr[13][38] = true;
		letterArr[14][38] = true;
		
		//b
		letterArr[23][14] = true;
		letterArr[24][14] = true;
		letterArr[25][14] = true;
		letterArr[26][14] = true;
		letterArr[27][14] = true;
		letterArr[28][14] = true;
		letterArr[29][14] = true;
		letterArr[30][14] = true;
		letterArr[31][14] = true;
		letterArr[32][14] = true;
		letterArr[33][14] = true;
		letterArr[34][14] = true;
		letterArr[23][15] = true;
		letterArr[27][15] = true;
		letterArr[34][15] = true;
		
		letterArr[24][16] = true;
		letterArr[25][16] = true;
		letterArr[26][16] = true;
		letterArr[27][16] = true;
		letterArr[28][16] = true;
		letterArr[29][16] = true;
		letterArr[30][16] = true;
		letterArr[31][16] = true;
		letterArr[32][16] = true;
		letterArr[33][16] = true;
		
		//i
		letterArr[23][18] = true;
		letterArr[23][20] = true;
		letterArr[34][18] = true;
		letterArr[34][20] = true;
		
		letterArr[23][19] = true;
		letterArr[24][19] = true;
		letterArr[25][19] = true;
		letterArr[26][19] = true;
		letterArr[27][19] = true;
		letterArr[28][19] = true;
		letterArr[29][19] = true;
		letterArr[30][19] = true;
		letterArr[31][19] = true;
		letterArr[32][19] = true;
		letterArr[33][19] = true;
		letterArr[34][19] = true;
		letterArr[23][15] = true;
		letterArr[27][15] = true;
		letterArr[34][15] = true;
		
		//r
		letterArr[23][22] = true;
		letterArr[24][22] = true;
		letterArr[25][22] = true;
		letterArr[26][22] = true;
		letterArr[27][22] = true;
		letterArr[28][22] = true;
		letterArr[29][22] = true;
		letterArr[30][22] = true;
		letterArr[31][22] = true;
		letterArr[32][22] = true;
		letterArr[33][22] = true;
		letterArr[34][22] = true;
		
		letterArr[23][23] = true;
		letterArr[26][23] = true;
		letterArr[24][24] = true;
		letterArr[25][24] = true;
		
		letterArr[27][24] = true;
		letterArr[28][24] = true;
		letterArr[29][24] = true;
		letterArr[30][24] = true;
		letterArr[31][24] = true;
		letterArr[32][24] = true;
		letterArr[33][24] = true;
		letterArr[34][24] = true;
		
		//t
		letterArr[23][26] = true;
		letterArr[23][28] = true;
		
		letterArr[23][27] = true;
		letterArr[24][27] = true;
		letterArr[25][27] = true;
		letterArr[26][27] = true;
		letterArr[27][27] = true;
		letterArr[28][27] = true;
		letterArr[29][27] = true;
		letterArr[30][27] = true;
		letterArr[31][27] = true;
		letterArr[32][27] = true;
		letterArr[33][27] = true;
		letterArr[34][27] = true;
		
		//h
		letterArr[23][30] = true;
		letterArr[24][30] = true;
		letterArr[25][30] = true;
		letterArr[26][30] = true;
		letterArr[27][30] = true;
		letterArr[28][30] = true;
		letterArr[29][30] = true;
		letterArr[30][30] = true;
		letterArr[31][30] = true;
		letterArr[32][30] = true;
		letterArr[33][30] = true;
		letterArr[34][30] = true;
		
		letterArr[28][31] = true;
		
		letterArr[23][32] = true;
		letterArr[24][32] = true;
		letterArr[25][32] = true;
		letterArr[26][32] = true;
		letterArr[27][32] = true;
		letterArr[28][32] = true;
		letterArr[29][32] = true;
		letterArr[30][32] = true;
		letterArr[31][32] = true;
		letterArr[32][32] = true;
		letterArr[33][32] = true;
		letterArr[34][32] = true;
		
		//d
		letterArr[23][34] = true;
		letterArr[24][34] = true;
		letterArr[25][34] = true;
		letterArr[26][34] = true;
		letterArr[27][34] = true;
		letterArr[28][34] = true;
		letterArr[29][34] = true;
		letterArr[30][34] = true;
		letterArr[31][34] = true;
		letterArr[32][34] = true;
		letterArr[33][34] = true;
		letterArr[34][34] = true;
		
		letterArr[23][35] = true;
		letterArr[34][35] = true;
		
		letterArr[24][36] = true;
		letterArr[25][36] = true;
		letterArr[26][36] = true;
		letterArr[27][36] = true;
		letterArr[28][36] = true;
		letterArr[29][36] = true;
		letterArr[30][36] = true;
		letterArr[31][36] = true;
		letterArr[32][36] = true;
		letterArr[33][36] = true;
		
		//a
		letterArr[23][38] = true;
		letterArr[24][38] = true;
		letterArr[25][38] = true;
		letterArr[26][38] = true;
		letterArr[27][38] = true;
		letterArr[28][38] = true;
		letterArr[29][38] = true;
		letterArr[30][38] = true;
		letterArr[31][38] = true;
		letterArr[32][38] = true;
		letterArr[33][38] = true;
		letterArr[34][38] = true;
		
		letterArr[23][39] = true;
		letterArr[26][39] = true;
		
		letterArr[23][40] = true;
		letterArr[24][40] = true;
		letterArr[25][40] = true;
		letterArr[26][40] = true;
		letterArr[27][40] = true;
		letterArr[28][40] = true;
		letterArr[29][40] = true;
		letterArr[30][40] = true;
		letterArr[31][40] = true;
		letterArr[32][40] = true;
		letterArr[33][40] = true;
		letterArr[34][40] = true;
		
		//y
		letterArr[23][42] = true;
		letterArr[24][42] = true;
		letterArr[25][42] = true;
		letterArr[26][42] = true;
		letterArr[27][42] = true;
		
		letterArr[28][43] = true;
		letterArr[29][43] = true;
		letterArr[30][43] = true;
		letterArr[31][43] = true;
		letterArr[32][43] = true;
		letterArr[33][43] = true;
		letterArr[34][43] = true;
		
		letterArr[23][44] = true;
		letterArr[24][44] = true;
		letterArr[25][44] = true;
		letterArr[26][44] = true;
		letterArr[27][44] = true;
		
		// embellish
		embellishArr[27][1] = true;
		embellishArr[27][2] = true;
		embellishArr[27][3] = true;
		embellishArr[27][4] = true;
		
		embellishArr[28][5] = true;
		embellishArr[29][6] = true;
		embellishArr[29][7] = true;
		embellishArr[28][8] = true;
		
		embellishArr[27][9] = true;
		embellishArr[27][10] = true;
		embellishArr[27][11] = true;
		embellishArr[27][12] = true;
		
		
		
		embellishArr[27][46] = true;
		embellishArr[27][47] = true;
		embellishArr[27][48] = true;
		embellishArr[27][49] = true;
		
		embellishArr[26][50] = true;
		embellishArr[25][51] = true;
		embellishArr[25][52] = true;
		embellishArr[26][53] = true;
		
		embellishArr[27][54] = true;
		embellishArr[27][55] = true;
		embellishArr[27][56] = true;
		embellishArr[27][57] = true;
		
		embellishArr[23][59] = true;
		embellishArr[26][59] = true;
		embellishArr[24][59] = true;
		embellishArr[25][59] = true;
		embellishArr[25][59] = true;
		embellishArr[26][59] = true;
		embellishArr[27][59] = true;
		embellishArr[28][59] = true;
		embellishArr[29][59] = true;
		embellishArr[30][59] = true;
		embellishArr[31][59] = true;
		embellishArr[32][59] = true;
		
		embellishArr[34][59] = true;
		
		
		var snd = document.getElementById('noise');
		snd.src = 'ttyd.mp3';
		snd.load();
		snd.play();
		draw();
	}
	
    function draw()
	{
      var canvas = document.getElementById("canvas");
      if (canvas.getContext)
	  {
		  var ctx = canvas.getContext("2d");
		  ctx.canvas.width  = window.innerWidth-canvasPad;
		  ctx.canvas.height = window.innerHeight-canvasPad;
		  ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
		  
		  var textX = Math.floor( (window.innerWidth-canvasPad) /3) + 30;
		  var textY = Math.floor( (window.innerHeight-canvasPad) /2);
		  var textSize = Math.floor( (window.innerHeight-canvasPad) /8);
		  var textFont = "Times New Roman";
	
			
		  var squareWidth = ctx.canvas.width / gridSize;
		  var squareHeight = ctx.canvas.height / gridSize;
		  for (var i = 0; i < gridSize; i++)
		  {
			for (var j = 0; j < gridSize; j++)
			{ 
			  var squareNum = gridSize*i + j;
			  squareNum += colorOffsetHead;
			  squareNum = squareNum % (gridSize*gridSize);
			  
			  var row = Math.trunc(squareNum/gridSize);
			  var col = squareNum % gridSize;
			  
			  var redColor = squareArr[row][col][0];
			  var greenColor = squareArr[row][col][1];
			  var blueColor = squareArr[row][col][2];
			
			  ctx.strokeStyle = 'rgb(' + redColor + ',' + greenColor + ',' + blueColor + ')';
			  ctx.fillStyle = 'rgb(' + redColor + ',' + greenColor + ',' + blueColor + ')';
			  
			  if (letterArr[i][j] == false)
			  {
				  if (useSquares)
				  {
					ctx.strokeRect(j*squareWidth,i*squareHeight,squareWidth,squareHeight);
				  }
				  else
				  {
					ctx.beginPath();
					ctx.arc(12.5+j*squareWidth,12.5+i*squareHeight,10,0,Math.PI*2,true);
					ctx.stroke();
				  }
			  }
			  else
			  {
				ctx.save();
				ctx.globalAlpha = letterAlpha
				ctx.fillRect(j*squareWidth,i*squareHeight,squareWidth,squareHeight);
				ctx.restore();
			  }
			  
			  if (embellishArr[i][j] == true && letterAlpha >= 1.0)
			  {
				ctx.save();
				ctx.globalAlpha = embellishAlpha;
				ctx.fillRect(j*squareWidth,i*squareHeight,squareWidth,squareHeight);
				ctx.restore();
			  }
			}
		  }
	   }
	   
	   if (letterAlpha < 1.0)
	   {
			letterAlpha += letterFadeInAlphaStep;
	   }
	   
	   if (letterAlpha >= 1.0)
	   {
			if (embellishAlphaShouldIncrease)
			{
				embellishAlpha += embellishAlphaStep;
				if (embellishAlpha >= 1.0)
				{
					embellishAlpha = 1.0;
					embellishAlphaShouldIncrease = false;
				}
			}
			else
			{
				embellishAlpha -= embellishAlphaStep;
				if (embellishAlpha <= 0.0)
				{
					embellishAlpha = 0.0;
					embellishAlphaShouldIncrease = true;
				}
			}
		}
		
	   colorOffsetHead++;
	   colorOffsetHead = colorOffsetHead % (gridSize*gridSize);
	   setTimeout(draw, updateTimeMS);
    }
	
	function onMouseClick(event)
	{
		  var ctx = canvas.getContext("2d");
		  ctx.canvas.width  = window.innerWidth-canvasPad;
		  ctx.canvas.height = window.innerHeight-canvasPad;
		  ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
			
		  var squareWidth = ctx.canvas.width / gridSize;
		  var squareHeight = ctx.canvas.height / gridSize;
		  
		var xPos = event.clientX;
		var yPos = event.clientY;
		
		var squareCol = 0;
		var squareRow = 0;
		
		for (var i = 0; i < gridSize; i++)
		{
			for (var j = 0; j < gridSize; j++)
			{
				var sqx1 = j*squareWidth;
				var sqx2 = sqx1 + squareWidth;
				var sqy1 = i*squareHeight;
				var sqy2 = sqy1 + squareHeight;
				
				if (xPos >= sqx1 && xPos < sqx2 && yPos >= sqy1 && yPos < sqy2)
				{
					squareRow = i;
					squareCol = j;
				}
			}
		}
	
	  letterArr[squareRow][squareCol] = !letterArr[squareRow][squareCol];
	//  document.getElementById("debug").innerHTML = "Square Clicked (row, col) = ("
	//  + squareRow + ", " + squareCol + ")";
	}
  </script>
 <title>JOGO 1</title>
 </head>
 <body onload="main();">
   <canvas id="canvas"></canvas>
   <audio id="noise"></audio>
 </body>
</html>